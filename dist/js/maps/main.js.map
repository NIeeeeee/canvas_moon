{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Meteor","ctx","x","h","this","y","vx","Math","random","vy","len","gra","createRadialGradient","PI","addColorStop","save","fillStyle","beginPath","arc","lineTo","closePath","fill","restore","default","2","Moon","width","height","gradient","fillRect","3","Stars","amount","stars","getStars","push","forEach","star","map","sign","4","_interopRequireDefault","obj","__esModule","_Stars","_Stars2","_Moon","_Moon2","_Meteor","_Meteor2","canvas","document","getElementById","getContext","window","innerWidth","innerHeight","moon","meteors","count","meteorGenerator","setTimeout","frame","blink","draw","meteor","index","arr","flow","splice","requestAnimationFrame","./Meteor","./Moon","./Stars"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Meteor = function () {\n    function Meteor(ctx, x, h) {\n        _classCallCheck(this, Meteor);\n\n        this.ctx = ctx;\n        this.x = x;\n        this.y = 0;\n        this.h = h;\n        this.vx = -(4 + Math.random() * 4);\n        this.vy = -this.vx;\n        this.len = Math.random() * 300 + 500;\n    }\n\n    _createClass(Meteor, [{\n        key: 'flow',\n        value: function flow() {\n            //判定流星出界\n            if (this.x < -this.len || this.y > this.h + this.len) {\n                return false;\n            }\n            this.x += this.vx;\n            this.y += this.vy;\n            return true;\n        }\n    }, {\n        key: 'draw',\n        value: function draw() {\n            var ctx = this.ctx,\n\n            //径向渐变，从流星头尾圆心，半径越大，透明度越高\n            gra = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.len);\n\n            var PI = Math.PI;\n            gra.addColorStop(0, 'rgba(255,255,255,1)');\n            gra.addColorStop(1, 'rgba(0,0,0,0)');\n            ctx.save();\n            ctx.fillStyle = gra;\n            ctx.beginPath();\n            //流星头，二分之一圆\n            ctx.arc(this.x, this.y, 1, PI / 4, 5 * PI / 4);\n            //绘制流星尾，三角形\n            ctx.lineTo(this.x + this.len, this.y - this.len);\n            ctx.closePath();\n            ctx.fill();\n            ctx.restore();\n        }\n    }]);\n\n    return Meteor;\n}();\n\nexports.default = Meteor;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Moon = function () {\n    function Moon(ctx, width, height) {\n        _classCallCheck(this, Moon);\n\n        this.ctx = ctx;\n        this.width = width;\n        this.height = height;\n    }\n\n    _createClass(Moon, [{\n        key: 'draw',\n        value: function draw() {\n            var ctx = this.ctx,\n                gradient = ctx.createRadialGradient(200, 200, 80, 200, 200, 800);\n            //径向渐变\n            gradient.addColorStop(0, 'rgb(255,255,255)');\n            gradient.addColorStop(0.01, 'rgb(70,70,80)');\n            gradient.addColorStop(0.2, 'rgb(40,40,50)');\n            gradient.addColorStop(0.4, 'rgb(20,20,30)');\n            gradient.addColorStop(1, 'rgb(0,0,10)');\n            ctx.save();\n            ctx.fillStyle = gradient;\n            ctx.fillRect(0, 0, this.width, this.height);\n            ctx.restore();\n        }\n    }]);\n\n    return Moon;\n}();\n\nexports.default = Moon;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Stars = function () {\n  function Stars(ctx, width, height, amount) {\n    _classCallCheck(this, Stars);\n\n    this.ctx = ctx;\n    this.width = width;\n    this.height = height;\n    this.stars = this.getStars(amount);\n  }\n\n  _createClass(Stars, [{\n    key: 'getStars',\n    value: function getStars(amount) {\n      var stars = [];\n      while (amount--) {\n        stars.push({\n          x: Math.random() * this.width,\n          y: Math.random() * this.height,\n          r: Math.random() + 0.2\n        });\n      }\n      return stars;\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      var ctx = this.ctx;\n      ctx.save();\n      ctx.fillStyle = 'white';\n\n      this.stars.forEach(function (star) {\n        ctx.beginPath();\n        ctx.arc(star.x, star.y, star.r, 0, 2 * Math.PI);\n        ctx.fill();\n      });\n      ctx.restore();\n    }\n  }, {\n    key: 'blink',\n    value: function blink() {\n      this.stars = this.stars.map(function (star) {\n        var sign = Math.random() > 0.5 ? 1 : -1;\n        star.r += sign * 0.2;\n        if (star.r < 0) {\n          star.r = -star.r;\n        } else if (star.r > 1) {\n          star.r -= 0.2;\n        }\n        return star;\n      });\n    }\n  }]);\n\n  return Stars;\n}();\n\nexports.default = Stars;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar _Stars = require('./Stars');\n\nvar _Stars2 = _interopRequireDefault(_Stars);\n\nvar _Moon = require('./Moon');\n\nvar _Moon2 = _interopRequireDefault(_Moon);\n\nvar _Meteor = require('./Meteor');\n\nvar _Meteor2 = _interopRequireDefault(_Meteor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar canvas = document.getElementById('canvas'),\n    ctx = canvas.getContext('2d'),\n    width = window.innerWidth,\n    height = window.innerHeight,\n\n//实例化月亮和星星。流星是随机时间生成，所以只初始化数组\nmoon = new _Moon2.default(ctx, width, height),\n    stars = new _Stars2.default(ctx, width, height, 200),\n    meteors = [],\n    count = 0;\n\ncanvas.width = width;\ncanvas.height = height;\n// stars = new Stars(ctx,width,height,200);\n// stars.draw();\n\nvar meteorGenerator = function meteorGenerator() {\n    //x位置偏移，以免经过月亮\n    var x = Math.random() * width + 800;\n    meteors.push(new _Meteor2.default(ctx, x, height));\n\n    //每隔随机时间，生成新流星\n    setTimeout(function () {\n        meteorGenerator();\n    }, Math.random() * 2000);\n};\n\nvar frame = function frame() {\n    count++;\n    count % 10 == 0 && stars.blink();\n    moon.draw();\n    stars.draw();\n\n    meteors.forEach(function (meteor, index, arr) {\n        //如果流星离开视野之内，销毁流星实例，回收内存\n        if (meteor.flow()) {\n            meteor.draw();\n        } else {\n            arr.splice(index, 1);\n        }\n    });\n    requestAnimationFrame(frame);\n};\nmeteorGenerator();\nframe();\n\n},{\"./Meteor\":1,\"./Moon\":2,\"./Stars\":3}]},{},[4])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy8uNi4wLjFAYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjXFxqc1xcTWV0ZW9yLmpzIiwic3JjXFxqc1xcTW9vbi5qcyIsInNyY1xcanNcXFN0YXJzLmpzIiwic3JjXFxqc1xcbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7SUNBcUIsTTtBQUNqQixvQkFBWSxHQUFaLEVBQWlCLENBQWpCLEVBQW9CLENBQXBCLEVBQXVCO0FBQUE7O0FBQ25CLGFBQUssR0FBTCxHQUFXLEdBQVg7QUFDQSxhQUFLLENBQUwsR0FBUyxDQUFUO0FBQ0EsYUFBSyxDQUFMLEdBQVMsQ0FBVDtBQUNBLGFBQUssQ0FBTCxHQUFTLENBQVQ7QUFDQSxhQUFLLEVBQUwsR0FBVSxFQUFFLElBQUksS0FBSyxNQUFMLEtBQWdCLENBQXRCLENBQVY7QUFDQSxhQUFLLEVBQUwsR0FBVSxDQUFDLEtBQUssRUFBaEI7QUFDQSxhQUFLLEdBQUwsR0FBVyxLQUFLLE1BQUwsS0FBZ0IsR0FBaEIsR0FBc0IsR0FBakM7QUFDSDs7OzsrQkFFTTtBQUNIO0FBQ0EsZ0JBQUksS0FBSyxDQUFMLEdBQVMsQ0FBQyxLQUFLLEdBQWYsSUFBc0IsS0FBSyxDQUFMLEdBQVMsS0FBSyxDQUFMLEdBQVMsS0FBSyxHQUFqRCxFQUFzRDtBQUNsRCx1QkFBTyxLQUFQO0FBQ0g7QUFDRCxpQkFBSyxDQUFMLElBQVUsS0FBSyxFQUFmO0FBQ0EsaUJBQUssQ0FBTCxJQUFVLEtBQUssRUFBZjtBQUNBLG1CQUFPLElBQVA7QUFDSDs7OytCQUVNO0FBQ0gsZ0JBQUksTUFBTSxLQUFLLEdBQWY7O0FBQ0k7QUFDQSxrQkFBTSxJQUFJLG9CQUFKLENBQ0YsS0FBSyxDQURILEVBQ00sS0FBSyxDQURYLEVBQ2MsQ0FEZCxFQUNpQixLQUFLLENBRHRCLEVBQ3lCLEtBQUssQ0FEOUIsRUFDaUMsS0FBSyxHQUR0QyxDQUZWOztBQUtBLGdCQUFNLEtBQUssS0FBSyxFQUFo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O0FBV0EsSUFBTSxRQUFRLFNBQVIsS0FBUSxHQUFJO0FBQ2Q7QUFDQSxZQUFRLEVBQVIsSUFBYyxDQUFkLElBQW1CLE1BQU0sS0FBTixFQUFuQjtBQUNBLFNBQUssSUFBTDtBQUNBLFVBQU0sSUFBTjs7QUFFQSxZQUFRLE9BQVIsQ0FBZ0IsVUFBQyxNQUFELEVBQVMsS0FBVCxFQUFnQixHQUFoQixFQUF1QjtBQUNuQztBQUNBLFlBQUksT0FBTyxJQUFQLEVBQUosRUFBbUI7QUFDZixtQkFBTyxJQUFQO0FBQ0gsU0FGRCxNQUVPO0FBQ0gsZ0JBQUksTUFBSixDQUFXLEtBQVgsRUFBa0IsQ0FBbEI7QUFDSDtBQUNKLEtBUEQ7QUFRQSwwQkFBc0IsS0FBdEI7QUFDSCxDQWZEO0FBZ0JBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWV0ZW9yIHtcbiAgICBjb25zdHJ1Y3RvcihjdHgsIHgsIGgpIHtcbiAgICAgICAgdGhpcy5jdHggPSBjdHhcbiAgICAgICAgdGhpcy54ID0geFxuICAgICAgICB0aGlzLnkgPSAwXG4gICAgICAgIHRoaXMuaCA9IGhcbiAgICAgICAgdGhpcy52eCA9IC0oNCArIE1hdGgucmFuZG9tKCkgKiA0KVxuICAgICAgICB0aGlzLnZ5ID0gLXRoaXMudnhcbiAgICAgICAgdGhpcy5sZW4gPSBNYXRoLnJhbmRvbSgpICogMzAwICsgNTAwXG4gICAgfVxuXG4gICAgZmxvdygpIHtcbiAgICAgICAgLy/liKTlrprmtYHmmJ/lh7rnlYxcbiAgICAgICAgaWYgKHRoaXMueCA8IC10aGlzLmxlbiB8fCB0aGlzLnkgPiB0aGlzLmggKyB0aGlzLmxlbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54ICs9IHRoaXMudnhcbiAgICAgICAgdGhpcy55ICs9IHRoaXMudnlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBkcmF3KCkge1xuICAgICAgICBsZXQgY3R4ID0gdGhpcy5jdHgsXG4gICAgICAgICAgICAvL+W+hOWQkea4kOWPmO+8jOS7jua1geaYn+WktOWwvuWchuW/g++8jOWNiuW+hOi2iuWkp++8jOmAj+aYjuW6pui2iumrmFxuICAgICAgICAgICAgZ3JhID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KFxuICAgICAgICAgICAgICAgIHRoaXMueCwgdGhpcy55LCAwLCB0aGlzLngsIHRoaXMueSwgdGhpcy5sZW4pXG5cbiAgICAgICAgY29uc3QgUEkgPSBNYXRoLlBJXG4gICAgICAgIGdyYS5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMjU1LDI1NSwyNTUsMSknKVxuICAgICAgICBncmEuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDAsMCwwLDApJylcbiAgICAgICAgY3R4LnNhdmUoKVxuICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKVxuICAgICAgICAvL+a1geaYn+WktO+8jOS6jOWIhuS5i+S4gOWchlxuICAgICAgICBjdHguYXJjKHRoaXMueCwgdGhpcy55LCAxLCBQSSAvIDQsIDUgKiBQSSAvIDQpXG4gICAgICAgIC8v57uY5Yi25rWB5pif5bC+77yM5LiJ6KeS5b2iXG4gICAgICAgIGN0eC5saW5lVG8odGhpcy54ICsgdGhpcy5sZW4sIHRoaXMueSAtIHRoaXMubGVuKVxuICAgICAgICBjdHguY2xvc2VQYXRoKClcbiAgICAgICAgY3R4LmZpbGwoKVxuICAgICAgICBjdHgucmVzdG9yZSgpXG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9vbiB7XG4gICAgY29uc3RydWN0b3IoY3R4LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY3R4ID0gY3R4XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgIH1cblxuICAgIGRyYXcoKSB7XG4gICAgICAgIGxldCBjdHggPSB0aGlzLmN0eCxcbiAgICAgICAgICAgIGdyYWRpZW50ID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KFxuICAgICAgICAgICAgMjAwLCAyMDAsIDgwLCAyMDAsIDIwMCwgODAwKVxuICAgICAgICAvL+W+hOWQkea4kOWPmFxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgJ3JnYigyNTUsMjU1LDI1NSknKVxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC4wMSwgJ3JnYig3MCw3MCw4MCknKVxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC4yLCAncmdiKDQwLDQwLDUwKScpXG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLjQsICdyZ2IoMjAsMjAsMzApJylcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICdyZ2IoMCwwLDEwKScpXG4gICAgICAgIGN0eC5zYXZlKClcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodClcbiAgICAgICAgY3R4LnJlc3RvcmUoKVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXJze1xuICBjb25zdHJ1Y3RvcihjdHgsIHdpZHRoLGhlaWdodCxhbW91bnQpIHtcbiAgICB0aGlzLmN0eCA9IGN0eFxuICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgdGhpcy5zdGFycyA9IHRoaXMuZ2V0U3RhcnMoYW1vdW50KVxuICB9XG4gIGdldFN0YXJzKGFtb3VudCkge1xuICAgIGxldCBzdGFycyA9IFtdXG4gICAgd2hpbGUoYW1vdW50LS0pIHtcbiAgICAgIHN0YXJzLnB1c2goe1xuICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogdGhpcy53aWR0aCxcbiAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIHRoaXMuaGVpZ2h0LFxuICAgICAgICByOiBNYXRoLnJhbmRvbSgpICsgMC4yXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gc3RhcnNcbiAgfVxuICBkcmF3KCkge1xuICAgIGxldCBjdHggPSB0aGlzLmN0eFxuICAgIGN0eC5zYXZlKClcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJ1xuXG4gICAgdGhpcy5zdGFycy5mb3JFYWNoKHN0YXI9PntcbiAgICAgIGN0eC5iZWdpblBhdGgoKVxuICAgICAgY3R4LmFyYyhzdGFyLngsc3Rhci55LHN0YXIuciwwLDIqTWF0aC5QSSlcbiAgICAgIGN0eC5maWxsKClcbiAgICB9KVxuICAgIGN0eC5yZXN0b3JlKClcbiAgfVxuICBibGluaygpe1xuICAgIHRoaXMuc3RhcnMgPSB0aGlzLnN0YXJzLm1hcChzdGFyPT4ge1xuICAgICAgIGxldCBzaWduID0gTWF0aC5yYW5kb20oKSA+IDAuNSA/IDEgOiAtMVxuICAgICAgIHN0YXIuciArPSBzaWduICogMC4yXG4gICAgICAgaWYgKHN0YXIuciA8IDApIHtcbiAgICAgICAgICAgc3Rhci5yID0gLXN0YXIuclxuICAgICAgIH0gZWxzZSBpZiAoc3Rhci5yID4gMSkge1xuICAgICAgICAgICBzdGFyLnIgLT0gMC4yXG4gICAgICAgfVxuICAgICAgIHJldHVybiBzdGFyXG4gICB9KVxuICB9XG59XG4iLCJpbXBvcnQgU3RhcnMgZnJvbSAnLi9TdGFycydcbmltcG9ydCBNb29uIGZyb20gJy4vTW9vbidcbmltcG9ydCBNZXRlb3IgICBmcm9tICcuL01ldGVvcidcblxubGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKSxcbiAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSxcbiAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAvL+WunuS+i+WMluaciOS6ruWSjOaYn+aYn+OAgua1geaYn+aYr+maj+acuuaXtumXtOeUn+aIkO+8jOaJgOS7peWPquWIneWni+WMluaVsOe7hFxuICAgIG1vb24gPSBuZXcgTW9vbihjdHgsIHdpZHRoLCBoZWlnaHQpLFxuICAgIHN0YXJzID0gbmV3IFN0YXJzKGN0eCwgd2lkdGgsIGhlaWdodCwgMjAwKSxcbiAgICBtZXRlb3JzID0gW10sXG4gICAgY291bnQgPSAwXG5cbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIC8vIHN0YXJzID0gbmV3IFN0YXJzKGN0eCx3aWR0aCxoZWlnaHQsMjAwKTtcbiAgICAvLyBzdGFycy5kcmF3KCk7XG5cbmNvbnN0IG1ldGVvckdlbmVyYXRvciA9ICgpPT4ge1xuICAgIC8veOS9jee9ruWBj+enu++8jOS7peWFjee7j+i/h+aciOS6rlxuICAgIGxldCB4ID0gTWF0aC5yYW5kb20oKSAqIHdpZHRoICsgODAwXG4gICAgbWV0ZW9ycy5wdXNoKG5ldyBNZXRlb3IoY3R4LCB4LCBoZWlnaHQpKVxuXG4gICAgLy/mr4/pmpTpmo/mnLrml7bpl7TvvIznlJ/miJDmlrDmtYHmmJ9cbiAgICBzZXRUaW1lb3V0KCgpPT4ge1xuICAgICAgICBtZXRlb3JHZW5lcmF0b3IoKVxuICAgIH0sIE1hdGgucmFuZG9tKCkgKiAyMDAwKVxufVxuXG5jb25zdCBmcmFtZSA9ICgpPT57XG4gICAgY291bnQrK1xuICAgIGNvdW50ICUgMTAgPT0gMCAmJiBzdGFycy5ibGluaygpXG4gICAgbW9vbi5kcmF3KClcbiAgICBzdGFycy5kcmF3KClcblxuICAgIG1ldGVvcnMuZm9yRWFjaCgobWV0ZW9yLCBpbmRleCwgYXJyKT0+IHtcbiAgICAgICAgLy/lpoLmnpzmtYHmmJ/nprvlvIDop4bph47kuYvlhoXvvIzplIDmr4HmtYHmmJ/lrp7kvovvvIzlm57mlLblhoXlrZhcbiAgICAgICAgaWYgKG1ldGVvci5mbG93KCkpIHtcbiAgICAgICAgICAgIG1ldGVvci5kcmF3KClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1cbiAgICB9KVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSlcbn1cbm1ldGVvckdlbmVyYXRvcigpXG5mcmFtZSgpXG4iXX0=\n"]}